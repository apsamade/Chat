<!DOCTYPE html>
<html>
  <head>
  
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/9/9a/Rond_vert.png">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Socket.IO chat</title>
    <link rel="stylesheet" href="../public/style.css">
  </head>
  <body>
    <ul id="messages"></ul>
    <form id="form" action="">
        <input id="msg" autocomplete="off"/><button>Envoyer</button>
    </form>

    <script>
      $(function(){
        var socket = io();

        $("form").submit(function(e){
          e.preventDefault()

          socket.emit("chat message" , $("#msg").val())
          $("#msg").val("")

          return false
        })

        socket.on('chat message' , function (msg){
          $("#messages").append($("<li>").text(msg))
        }) 
        
      })
        
    </script> 
  </body>
</html>

